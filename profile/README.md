<!-- /*Copyright 2025 HouHackathon-CQP

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License. */ -->

<div align="center">

![GreenMap Banner](https://img.shields.io/badge/ğŸŒ¿_GreenMap_Hanoi-Breathing_Life_into_the_Capital-2ea44f?style=for-the-badge)

# Ná»n Táº£ng Báº£n Äá»“ Xanh ThÃ´ng Minh

> **"CÃ´ng nghá»‡ káº¿t ná»‘i cá»™ng Ä‘á»“ng vÃ¬ má»™t HÃ  Ná»™i trong lÃ nh"**

[![Web](https://img.shields.io/badge/Web-React_19-61DAFB?style=flat-square&logo=react)](https://github.com/HouHackathon-CQP/GreenMap-Frontend)
[![Mobile](https://img.shields.io/badge/Mobile-Kotlin-7F52FF?style=flat-square&logo=kotlin)](https://github.com/HouHackathon-CQP/GreenMap-Mobile-App)
[![Backend](https://img.shields.io/badge/Backend-FastAPI-009688?style=flat-square&logo=fastapi)](https://github.com/HouHackathon-CQP/GreenMap-Backend)
[![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg?style=flat-square)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Active-success?style=flat-square)](https://github.com/HouHackathon-CQP)

---

### ğŸ¯ Sá»© Má»‡nh

**Minh báº¡ch hÃ³a** mÃ´i trÆ°á»ng Ä‘Ã´ thá»‹ | **Äá»‹nh hÆ°á»›ng** lá»‘i sá»‘ng xanh | **Káº¿t ná»‘i** sá»©c máº¡nh cá»™ng Ä‘á»“ng

</div>

---

## ğŸ’¡ Vá» Dá»± Ãn

**GreenMap Hanoi** khÃ´ng chá»‰ lÃ  má»™t á»©ng dá»¥ng báº£n Ä‘á»“ - Ä‘Ã¢y lÃ  há»‡ sinh thÃ¡i cÃ´ng nghá»‡ káº¿t há»£p AI, IoT vÃ  dá»¯ liá»‡u má»Ÿ Ä‘á»ƒ giáº£i quyáº¿t bÃ i toÃ¡n Ã´ nhiá»…m mÃ´i trÆ°á»ng táº¡i HÃ  Ná»™i.

### ğŸŒ Bá»‘i Cáº£nh & Váº¥n Äá»

HÃ  Ná»™i - thá»§ Ä‘Ã´ ngÃ n nÄƒm vÄƒn hiáº¿n Ä‘ang Ä‘á»‘i máº·t vá»›i thÃ¡ch thá»©c lá»›n vá» cháº¥t lÆ°á»£ng khÃ´ng khÃ­ vÃ  mÃ´i trÆ°á»ng sá»‘ng:

- ğŸ­ **Ã” nhiá»…m khÃ´ng khÃ­:** Chá»‰ sá»‘ AQI thÆ°á»ng xuyÃªn á»Ÿ má»©c "Nguy háº¡i" vá»›i PM2.5 vÆ°á»£t chuáº©n WHO 5-10 láº§n
- ğŸš— **Giao thÃ´ng Ã¹n táº¯c:** LÆ°á»£ng phÆ°Æ¡ng tiá»‡n tÄƒng 15-20%/nÄƒm, phÃ¡t tháº£i khÃ­ CO2 gia tÄƒng
- ğŸŒ³ **Thiáº¿u khÃ´ng gian xanh:** Tá»· lá»‡ cÃ¢y xanh/ngÆ°á»i tháº¥p hÆ¡n nhiá»u so vá»›i cÃ¡c thÃ nh phá»‘ chÃ¢u Ã
- ğŸ“Š **Thiáº¿u dá»¯ liá»‡u minh báº¡ch:** ThÃ´ng tin mÃ´i trÆ°á»ng phÃ¢n tÃ¡n, khÃ³ tiáº¿p cáº­n vá»›i ngÆ°á»i dÃ¢n

### âœ¨ Giáº£i PhÃ¡p Cá»§a ChÃºng TÃ´i

GreenMap cung cáº¥p má»™t ná»n táº£ng tÃ­ch há»£p toÃ n diá»‡n vá»›i 3 trá»¥ cá»™t chÃ­nh:

| ğŸ” **GiÃ¡m SÃ¡t Real-time** | ğŸŒ± **Háº¡ Táº§ng Xanh** | ğŸ‘¥ **Cá»™ng Äá»“ng Tham Gia** |
|:---:|:---:|:---:|
| Theo dÃµi AQI, thá»i tiáº¿t, giao thÃ´ng theo tá»«ng khu vá»±c | Báº£n Ä‘á»“ cÃ´ng viÃªn, tráº¡m sáº¡c EV, xe Ä‘áº¡p, du lá»‹ch | BÃ¡o cÃ¡o Ä‘iá»ƒm nÃ³ng, chia sáº» thÃ´ng tin mÃ´i trÆ°á»ng |

---

## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng

### Thiáº¿t Káº¿ PhÃ¢n Táº§ng

GreenMap Ä‘Æ°á»£c xÃ¢y dá»±ng theo mÃ´ hÃ¬nh **Hybrid Architecture** káº¿t há»£p giá»¯a xá»­ lÃ½ tÄ©nh vÃ  luá»“ng dá»¯ liá»‡u thá»i gian thá»±c:

```mermaid
graph TB
    subgraph "ğŸŒ Data Sources Layer"
        A1[ğŸ—ºï¸ OpenStreetMap<br/>Parks, Charging Stations]
        A2[ğŸŒ«ï¸ OpenAQ API<br/>Air Quality Data]
        A3[ğŸŒ¤ï¸ Weather API<br/>Temperature, Humidity]
        A4[ğŸš— SUMO Traffic<br/>Simulation Data]
    end
    
    subgraph "âš™ï¸ Backend Processing Layer"
        B1[FastAPI Server<br/>REST API Endpoints]
        B2[Orion-LD Broker<br/>NGSI-LD Context]
        B3[Background Workers<br/>AQI & Weather Agents]
        B4[ğŸ¤– AI Engine<br/>Gemini & Groq]
    end
    
    subgraph "ğŸ’¾ Data Storage Layer"
        D1[(PostgreSQL<br/>+ PostGIS)]
        D2[(MongoDB<br/>NGSI-LD)]
    end
    
    subgraph "ğŸ–¥ï¸ Presentation Layer"
        C1[ğŸ’» Web Dashboard<br/>React + MapLibre]
        C2[ğŸ“± Mobile App<br/>Kotlin + Compose]
    end
    
    A1 & A2 & A3 & A4 -->|Collect Data| B3
    B3 -->|Process & Transform| B1
    B3 -.->|Real-time Sync| B2
    B1 -->|Store Static Data| D1
    B2 -->|Store Dynamic Data| D2
    D1 & D2 -->|Query Data| B1
    D1 & D2 -->|Weather + AQI Data| B4
    B4 -->|AI Insights| B1
    B1 -->|JSON API| C1 & C2
    
    style A1 fill:#E74C3C,stroke:#C0392B,stroke-width:2px,color:#fff
    style A2 fill:#E67E22,stroke:#D35400,stroke-width:2px,color:#fff
    style A3 fill:#F39C12,stroke:#E67E22,stroke-width:2px,color:#fff
    style A4 fill:#3498DB,stroke:#2980B9,stroke-width:2px,color:#fff
    
    style B1 fill:#1ABC9C,stroke:#16A085,stroke-width:2px,color:#fff
    style B2 fill:#2ECC71,stroke:#27AE60,stroke-width:2px,color:#fff
    style B3 fill:#3498DB,stroke:#2980B9,stroke-width:2px,color:#fff
    style B4 fill:#FF6B6B,stroke:#EE5A52,stroke-width:2px,color:#fff
    
    style D1 fill:#9B59B6,stroke:#8E44AD,stroke-width:2px,color:#fff
    style D2 fill:#8E44AD,stroke:#7D3C98,stroke-width:2px,color:#fff
    
    style C1 fill:#E91E63,stroke:#C2185B,stroke-width:2px,color:#fff
    style C2 fill:#FF5722,stroke:#E64A19,stroke-width:2px,color:#fff
```

### ğŸ”‘ Äiá»ƒm Äá»™c ÄÃ¡o

#### 1ï¸âƒ£ **Dual Storage Strategy**

- **PostgreSQL + PostGIS**: LÆ°u trá»¯ dá»¯ liá»‡u tÄ©nh (users, locations, reports) vá»›i kháº£ nÄƒng truy váº¥n Ä‘á»‹a lÃ½ máº¡nh máº½
- **MongoDB via Orion-LD**: Xá»­ lÃ½ luá»“ng dá»¯ liá»‡u Ä‘á»™ng (AQI, weather, traffic) theo chuáº©n NGSI-LD quá»‘c táº¿

#### 2ï¸âƒ£ **NGSI-LD Context Broker**

TÃ­ch há»£p **FIWARE Orion-LD** - chuáº©n má»±c toÃ n cáº§u cho Smart Cities, cho phÃ©p:
- ğŸ”Œ Plug-and-play vá»›i IoT sensors
- ğŸŒ Interoperability vá»›i cÃ¡c há»‡ thá»‘ng thÃ´ng minh khÃ¡c
- âš¡ Real-time data streaming
- ğŸ“¡ Subscription-based notifications

#### 3ï¸âƒ£ **Background Processing**

Workers tá»± Ä‘á»™ng cáº­p nháº­t dá»¯ liá»‡u:
- ğŸŒ«ï¸ AQI Agent: Má»—i 30 phÃºt
- ğŸŒ¤ï¸ Weather Agent: Má»—i 15 phÃºt
- ğŸ”„ Auto-sync vá»›i Orion-LD Broker

#### 4ï¸âƒ£ **AI-Powered Insights**

PhÃ¢n tÃ­ch thÃ´ng minh vá»›i Google Gemini vÃ  Groq:
- ğŸ¤– **Multi-Provider AI**: Tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i giá»¯a Gemini vÃ  Groq khi cáº§n
- ğŸŒ¤ï¸ **Weather & AQI Analysis**: PhÃ¢n tÃ­ch dá»¯ liá»‡u thá»i tiáº¿t 24h/7 ngÃ y káº¿t há»£p cháº¥t lÆ°á»£ng khÃ´ng khÃ­
- ğŸ’¡ **Actionable Recommendations**: ÄÆ°a ra lá»i khuyÃªn, dá»± bÃ¡o cho viá»‡c ra ngoÃ i, váº­n Ä‘á»™ng, mang theo váº­t dá»¥ng
- ğŸ“Š **Context-Aware**: LÆ°u trá»¯ context phÃ¢n tÃ­ch Ä‘á»ƒ tham kháº£o láº¡i sau
- ğŸ‡»ğŸ‡³ **Vietnamese Language**: PhÃ¢n tÃ­ch hoÃ n toÃ n báº±ng tiáº¿ng Viá»‡t, dá»… hiá»ƒu vÃ  hÃ nh Ä‘á»™ng

---

## ğŸ“¦ Cáº¥u TrÃºc Dá»± Ãn

<div align="center">

### ğŸ”— 4 Repository ChÃ­nh

</div>

#### ğŸ”§ Backend Services
> **[GreenMap-Backend](https://github.com/HouHackathon-CQP/GreenMap-Backend)** - Core API & Data Processing

<table>
<tr>
<td width="60%">

**Kiáº¿n TrÃºc:**
```
âš™ï¸ FastAPI REST API Server
â”œâ”€ PostgreSQL + PostGIS (Spatial data)
â”œâ”€ MongoDB + Orion-LD (IoT/NGSI-LD)
â”œâ”€ JWT Authentication & Authorization
â””â”€ Background Workers (AQI/Weather sync)
```

**Chá»©c NÄƒng ChÃ­nh:**
- ğŸ” User management & JWT auth
- ğŸ“ Location CRUD (parks, EV stations, bikes)
- ğŸ“¢ Community report workflow
- ğŸŒ«ï¸ Real-time AQI/Weather sync (15-30 min)
- ğŸ”„ Orion-LD Context Broker integration
- ğŸ¤– AI weather/AQI insights (Gemini + Groq)
- ğŸ“Š AI analysis history & context storage

</td>
<td width="40%">

**Tech Stack:**

![FastAPI](https://img.shields.io/badge/FastAPI-009688?logo=fastapi&logoColor=white&style=flat-square)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-336791?logo=postgresql&logoColor=white&style=flat-square)
![MongoDB](https://img.shields.io/badge/MongoDB-47A248?logo=mongodb&logoColor=white&style=flat-square)
![Docker](https://img.shields.io/badge/Docker-2496ED?logo=docker&logoColor=white&style=flat-square)
![Python](https://img.shields.io/badge/Python_3.10+-3776AB?logo=python&logoColor=white&style=flat-square)
![Gemini](https://img.shields.io/badge/Gemini_AI-8E75B2?logo=google&logoColor=white&style=flat-square)
![Groq](https://img.shields.io/badge/Groq_AI-FF6B35?logo=ai&logoColor=white&style=flat-square)

**Status:** âœ… Production Ready

**API Endpoints:** 27+

**Auto-sync:** Every 15-30 min

**AI Providers:** Gemini & Groq

</td>
</tr>
</table>

---

#### ğŸ¨ Frontend Applications
> **[GreenMap-Frontend](https://github.com/HouHackathon-CQP/GreenMap-Frontend)** - Admin Dashboard & Analytics

<table>
<tr>
<td width="60%">

**Kiáº¿n TrÃºc:**
```
ğŸ’» React 19 + TypeScript
â”œâ”€ MapLibre GL JS (3D Interactive Maps)
â”œâ”€ Recharts (Data Visualization)
â”œâ”€ TailwindCSS + Tailwind Animate
â””â”€ React Router v7 (Client-side routing)
```

**Chá»©c NÄƒng ChÃ­nh:**
- ğŸ—ºï¸ 7-layer interactive map (AQI, Traffic, Parks, EV, etc.)
- ğŸ“Š Real-time KPI dashboard
- âœ… Report approval system
- ğŸ‘¥ User management (ADMIN/CITIZEN roles)
- ğŸ“ˆ Analytics & trends visualization

</td>
<td width="40%">

**Tech Stack:**

![React](https://img.shields.io/badge/React_19-61DAFB?logo=react&logoColor=black&style=flat-square)
![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?logo=typescript&logoColor=white&style=flat-square)
![Vite](https://img.shields.io/badge/Vite_7.2-646CFF?logo=vite&logoColor=white&style=flat-square)
![Tailwind](https://img.shields.io/badge/TailwindCSS-38B2AC?logo=tailwind-css&logoColor=white&style=flat-square)

**Status:** âœ… Production Ready

**Map Layers:** 7

**Charts:** 5+ types

</td>
</tr>
</table>

---

#### ğŸ“± Mobile Platform
> **[GreenMap-Mobile-App](https://github.com/HouHackathon-CQP/GreenMap-Mobile-App)** - Citizen Mobile App

<table>
<tr>
<td width="60%">

**Kiáº¿n TrÃºc:**
```
ğŸ“² Android Native App
â”œâ”€ Kotlin + Jetpack Compose
â”œâ”€ MVI Architecture Pattern
â”œâ”€ MapLibre SDK (Offline maps)
â”œâ”€ Hilt (Dependency Injection)
â””â”€ Room + DataStore (Local storage)
```

**Chá»©c NÄƒng ChÃ­nh:**
- ğŸŒ«ï¸ Real-time AQI by GPS location
- ğŸŒ¤ï¸ Weather forecast 24h
- ğŸš— Traffic density monitoring
- ğŸŒ³ Green infrastructure map (parks, EV, bikes)
- ğŸ“¢ Community pollution reporting

</td>
<td width="40%">

**Tech Stack:**

![Kotlin](https://img.shields.io/badge/Kotlin-7F52FF?logo=kotlin&logoColor=white&style=flat-square)
![Android](https://img.shields.io/badge/Android-3DDC84?logo=android&logoColor=white&style=flat-square)
![Jetpack](https://img.shields.io/badge/Jetpack_Compose-4285F4?logo=android&logoColor=white&style=flat-square)
![MapLibre](https://img.shields.io/badge/MapLibre-396CB2?logo=mapbox&logoColor=white&style=flat-square)

**Status:** ğŸš§ Active Development

**Min SDK:** Android 7.0 (API 24)

**Features:** 10+

</td>
</tr>
</table>

---

#### ğŸ“Š Data Repository
> **[GreenMap-Data](https://github.com/HouHackathon-CQP/GreenMap-Data)** - Open Dataset & Processing

<table>
<tr>
<td width="60%">

**Kiáº¿n TrÃºc:**
```
ğŸ—„ï¸ Data Collection & Processing
â”œâ”€ Jupyter Notebooks (Analysis)
â”œâ”€ GeoJSON Datasets (500+ POIs)
â”œâ”€ SUMO Traffic Simulation
â””â”€ Python Scripts (ETL pipelines)
```

**Datasets:**
- ğŸï¸ Parks & green spaces (200+)
- âš¡ EV charging stations (100+)
- ğŸš´ Bike rental points (50+)
- ğŸ›ï¸ Tourist attractions (150+)
- ğŸš— Traffic simulation data (SUMO)
- ğŸ“Š Historical AQI/Weather data

</td>
<td width="40%">

**Tech Stack:**

![Python](https://img.shields.io/badge/Python-3776AB?logo=python&logoColor=white&style=flat-square)
![Jupyter](https://img.shields.io/badge/Jupyter-F37626?logo=jupyter&logoColor=white&style=flat-square)
![Pandas](https://img.shields.io/badge/Pandas-150458?logo=pandas&logoColor=white&style=flat-square)
![GeoPandas](https://img.shields.io/badge/GeoPandas-139C5A?logo=python&logoColor=white&style=flat-square)

**Status:** âœ… Open Data

**Total POIs:** 500+

**Format:** GeoJSON, JSON

</td>
</tr>
</table>

---

## âš¡ TÃ­nh NÄƒng ChÃ­nh

<div align="center">

### ğŸ¯ Cho NgÆ°á»i DÃ¹ng Cuá»‘i (Mobile App)

</div>

| TÃ­nh NÄƒng     | MÃ´ Táº£     |
|:--------------|:----------|
| ğŸŒ«ï¸ **AQI Real-time** | Theo dÃµi cháº¥t lÆ°á»£ng khÃ´ng khÃ­ (PM2.5, PM10, NO2, O3) theo vá»‹ trÃ­ GPS |
| ğŸŒ¤ï¸ **Dá»± BÃ¡o Thá»i Tiáº¿t** | Nhiá»‡t Ä‘á»™, Ä‘á»™ áº©m, lÆ°á»£ng mÆ°a, giÃ³ - cáº­p nháº­t 15 phÃºt/láº§n |
| ğŸ¤– **AI Insights** | PhÃ¢n tÃ­ch thá»i tiáº¿t & AQI báº±ng AI (Gemini/Groq), Ä‘Æ°a ra lá»i khuyÃªn cÃ¡ nhÃ¢n hÃ³a |
| ğŸš— **Traffic Monitor** | Máº­t Ä‘á»™ giao thÃ´ng real-time tá»« SUMO simulation |
| âš¡ **EV Charging** | TÃ¬m tráº¡m sáº¡c xe Ä‘iá»‡n gáº§n nháº¥t + tráº¡ng thÃ¡i available |
| ğŸš´ **Bike Sharing** | Vá»‹ trÃ­ Ä‘iá»ƒm thuÃª xe Ä‘áº¡p cÃ´ng cá»™ng |
| ğŸï¸ **Äiá»ƒm Xanh** | CÃ´ng viÃªn, khu du lá»‹ch, Ä‘iá»ƒm check-in xanh |
| ğŸ“¢ **Community Report** | BÃ¡o cÃ¡o Ä‘iá»ƒm Ã´ nhiá»…m + upload áº£nh hiá»‡n trÆ°á»ng |
| ğŸ“° **Tin Tá»©c Xanh** | RSS feed tá»« bÃ¡o HÃ  Ná»™i Má»›i vá» mÃ´i trÆ°á»ng |

<div align="center">

### ğŸ’¼ Cho Quáº£n Trá»‹ ViÃªn (Web Dashboard)

</div>

| TÃ­nh NÄƒng | MÃ´ Táº£ |
|:----------|:------|
| ğŸ“Š **KPI Dashboard** | Overview tá»•ng quan: sensors, users, reports, alerts |
| ğŸ—ºï¸ **Multi-layer Map** | 7 lá»›p: AQI, Weather, Traffic, EV, Bike, Park, Report |
| ğŸ“ˆ **Analytics** | Biá»ƒu Ä‘á»“ AQI theo quáº­n, so sÃ¡nh trends, heatmap |
| ğŸ¤– **AI Analytics** | Xem lá»‹ch sá»­ phÃ¢n tÃ­ch AI, context data, vÃ  insights |
| âœ… **Report Management** | Duyá»‡t/tá»« chá»‘i bÃ¡o cÃ¡o tá»« cá»™ng Ä‘á»“ng |
| ğŸ‘¥ **User Management** | CRUD users, phÃ¢n quyá»n ADMIN/CITIZEN |
| ğŸŒ³ **Green Infrastructure** | CRUD cÃ´ng viÃªn, tráº¡m sáº¡c EV, Ä‘iá»ƒm thuÃª xe Ä‘áº¡p, du lá»‹ch |

---

## ğŸ“Š Dá»¯ Liá»‡u & Data Pipeline

### ğŸ”Œ Nguá»“n Dá»¯ Liá»‡u

```mermaid
graph LR
    A[ğŸŒ OpenStreetMap] -->|GeoJSON| E[Data Hub]
    B[ğŸŒ«ï¸ OpenAQ] -->|Air Quality| E
    C[ğŸŒ¤ï¸ Weather API] -->|Meteorology| E
    D[ğŸš— SUMO] -->|Traffic Sim| E
    F[ğŸ“¢ RSS Feed] -->|News| E
    G[ğŸ‘¥ Users] -->|Reports| E
    
    E --> H{Processing}
    H -->|Static| I[(PostgreSQL)]
    H -->|Dynamic| J[(Orion-LD)]
    
    style A fill:#e74c3c
    style B fill:#e67e22
    style C fill:#f39c12
    style D fill:#3498db
    style F fill:#9b59b6
    style G fill:#1abc9c
    style E fill:#34495e,color:#fff
    style H fill:#2c3e50,color:#fff
    style I fill:#27ae60,color:#fff
    style J fill:#16a085,color:#fff
```

<table>
<tr>
<th width="20%">Nguá»“n</th>
<th width="30%">Loáº¡i Dá»¯ Liá»‡u</th>
<th width="25%">PhÆ°Æ¡ng Thá»©c</th>
<th width="25%">Táº§n Suáº¥t</th>
</tr>

<tr>
<td><b>OpenStreetMap</b></td>
<td>ğŸï¸ Parks<br>âš¡ EV Chargers<br>ğŸš´ Bike Rentals<br>ğŸ›ï¸ Tourist Sites</td>
<td>Overpass API<br/>+ Jupyter Processing</td>
<td>One-time<br/>(Manual refresh)</td>
</tr>

<tr>
<td><b>OpenAQ</b></td>
<td>ğŸŒ«ï¸ PM2.5, PM10<br>ğŸ’¨ NO2, O3<br>â˜ ï¸ CO, SO2</td>
<td>REST API<br/>Auto-sync</td>
<td>ğŸ”„ Every 30 min</td>
</tr>

<tr>
<td><b>Weather API</b></td>
<td>ğŸŒ¡ï¸ Temperature<br>ğŸ’§ Humidity<br>â˜ï¸ Conditions<br>ğŸŒ§ï¸ Forecast 24h</td>
<td>REST API<br/>Background Worker</td>
<td>ğŸ”„ Every 15 min</td>
</tr>

<tr>
<td><b>SUMO</b></td>
<td>ğŸš— Traffic Flow<br>ğŸš¦ Congestion<br>ğŸ“‰ Vehicle Count</td>
<td>Simulation Output<br/>JSON Export</td>
<td>Simulation-based</td>
</tr>

<tr>
<td><b>RSS News</b></td>
<td>ğŸ“° Environmental News<br/>HÃ  Ná»™i Má»›i</td>
<td>RSS Parser</td>
<td>ğŸ”„ Hourly</td>
</tr>

<tr>
<td><b>Community</b></td>
<td>ğŸ“¢ Pollution Reports<br>ğŸ“¸ Photos<br>ğŸ“ GPS Location</td>
<td>Mobile/Web App<br/>Upload</td>
<td>Real-time</td>
</tr>

</table>

### âš™ï¸ Data Processing Pipeline

```
ğŸ”½ COLLECT
  â”‚
  â”œâ”€ OSM Overpass Query (amenity=charging_station, leisure=park...)
  â”œâ”€ OpenAQ API Call (GET /v2/latest)
  â”œâ”€ Weather API Poll
  â””â”€ User Uploads (multipart/form-data)
  â”‚
  â†“
ğŸ§¹ CLEAN & VALIDATE
  â”‚
  â”œâ”€ GeoJSON schema validation
  â”œâ”€ Coordinate bounds check (Hanoi bbox)
  â”œâ”€ Remove duplicates
  â””â”€ Data type conversion
  â”‚
  â†“
ğŸ”„ TRANSFORM
  â”‚
  â”œâ”€ Convert to NGSI-LD entities (for dynamic data)
  â”œâ”€ Add timestamps & metadata
  â”œâ”€ Generate UUIDs
  â””â”€ Calculate derived fields (AQI category)
  â”‚
  â†“
ğŸ’¾ STORE
  â”‚
  â”œâ”€â”€â†’ PostgreSQL (static: users, locations, historical)
  â””â”€â”€â†’ MongoDB via Orion-LD (dynamic: sensors, real-time)
  â”‚
  â†“
ğŸ“¡ SERVE
  â”‚
  â”œâ”€ REST API (GET /api/locations, /api/aqi)
  â”œâ”€ NGSI-LD API (GET /ngsi-ld/v1/entities)
  â””â”€ GeoJSON Endpoints (/geojson/parks)
  â†“
ğŸ”Œ API Layer (FastAPI)
  â”œâ”€ REST API (CRUD operations)
  â””â”€ NGSI-LD API (Real-time queries)
  â†“
ğŸ–¥ï¸ Visualization
  â”œâ”€ Admin Portal (React + MapLibre)
  â””â”€ Mobile App (Kotlin + Compose)
```

### ğŸ“‹ Chi tiáº¿t Quy trÃ¬nh:
1. **Thu tháº­p**: GeoJSON tá»« OSM qua Overpass API, AQI tá»« OpenAQ API (auto-refresh má»—i 30 phÃºt), Weather tá»« Weather API (auto-refresh má»—i 15 phÃºt)
2. **Xá»­ lÃ½**: Jupyter Notebook (`data_collection.ipynb`), Python scripts (`merge_json.py`, `split_json.py`), Validation (geometry checks, attribute normalization)
3. **LÆ°u trá»¯**: Static data â†’ PostgreSQL/PostGIS, Real-time IoT â†’ Orion-LD â†’ MongoDB, Files â†’ `static/` folder
4. **Äá»“ng bá»™**: Background workers (`aqi_agent.py`, `weather_agent.py`), Sync script (`sync_to_orion.py`), Init scripts (`init_db.py`, `seed_sensor.py`)
5. **Truy xuáº¥t**: REST API (JSON response vá»›i Pydantic schemas), NGSI-LD queries (vá»›i header `Accept: application/ld+json`), GeoJSON endpoints cho báº£n Ä‘á»“

---

## ğŸ› ï¸ Tech Stack Chi Tiáº¿t

<details>
<summary><b>ğŸ”§ Backend Technologies</b></summary>

### Core Framework
```python
FastAPI 0.104+        # Modern async web framework
Python 3.10+          # Type hints, async/await
SQLAlchemy 2.0        # ORM with async support
Pydantic 2.0          # Data validation
```

### Databases
```
PostgreSQL 15         # Primary relational DB
PostGIS 3.3           # Spatial extensions
MongoDB 5.0           # Document store for NGSI-LD
```

### FIWARE Integration
```
Orion-LD 1.6.1        # Context Broker (NGSI-LD)
Smart Data Models     # Standard entity schemas
```

### AI & Machine Learning
```python
Google Gemini API     # AI analysis (primary)
Groq API              # AI analysis (fallback)
httpx                 # Async API calls
```

### Libraries
```python
geoalchemy2           # PostGIS integration
shapely               # Geometric operations
httpx                 # Async HTTP client
python-jose[cryptography]  # JWT tokens
bcrypt                # Password hashing
```

</details>

<details>
<summary><b>ğŸ¨ Frontend Technologies</b></summary>

### Core Framework
```javascript
React 19              // Latest React features
TypeScript 5.3        // Type safety
Vite 7.2              // Lightning-fast build tool
```

### UI & Styling
```css
TailwindCSS 3.4       /* Utility-first CSS */
Lucide React          /* Icon library */
Tailwind Animate      /* Animation utilities */
```

### Mapping & Visualization
```javascript
MapLibre GL JS 5.13   // 3D interactive maps
Recharts 3.4          // Charting library
Turf.js 7.3           // Geospatial analysis
```

### Routing & State
```javascript
React Router v7       // Client-side routing
React Context API     // State management
```

</details>

<details>
<summary><b>ğŸ“± Mobile Technologies</b></summary>

### Core
```kotlin
Kotlin 1.9+                    // Modern Android dev
Jetpack Compose BOM 2024      // Declarative UI
Material 3                     // Design system
```

### Architecture
```kotlin
MVI Pattern                    // Unidirectional data flow
Hilt                           // Dependency injection
Coroutines + Flow              // Async programming
```

### Libraries
```kotlin
Retrofit 2.9                   // HTTP client
Room Database                  // Local persistence
Coil                           // Image loading
MapLibre SDK                   // Map rendering
Navigation Compose 3           // Navigation
DataStore                      // Key-value storage
Lottie                         // Animations
```

</details>

<details>
<summary><b>ğŸ“Š Data & DevOps</b></summary>

### Data Processing
```python
Jupyter Notebook      # Interactive analysis
Pandas + GeoPandas    # Data manipulation
Matplotlib + Seaborn  # Visualization
```

### Infrastructure
```yaml
Docker 20+            # Containerization
Docker Compose        # Multi-container orchestration
Uvicorn (ASGI)        # Production server
```

### External APIs
```
Overpass API          # OpenStreetMap queries
OpenAQ API            # Air quality data
Weather API           # Meteorological data
SUMO                  # Traffic simulation
```

</details>

---

## ğŸš€ Báº¯t Äáº§u Nhanh

### ğŸ“‹ YÃªu Cáº§u Há»‡ Thá»‘ng
- **Docker Desktop** (báº¯t buá»™c cho backend)
- **Node.js** 18+ (cho frontend)
- **Python** 3.10+ (cho backend vÃ  data processing)
- **Android Studio** Hedgehog+ (cho mobile)
- **Git**

### ğŸ’¿ CÃ i Äáº·t ToÃ n Há»‡ Thá»‘ng

#### 1ï¸âƒ£ Clone Repositories
```bash
# Clone táº¥t cáº£ repos
git clone https://github.com/HouHackathon-CQP/GreenMap-Backend.git
git clone https://github.com/HouHackathon-CQP/GreenMap-Frontend.git
git clone https://github.com/HouHackathon-CQP/GreenMap-Data.git
git clone https://github.com/HouHackathon-CQP/GreenMap-Mobile-App.git
```

#### 2ï¸âƒ£ Backend Setup (FastAPI + Orion-LD)
```bash
cd GreenMap-Backend

# Táº¡o virtual environment
python -m venv .venv
.\.venv\Scripts\activate  # Windows
# source .venv/bin/activate  # macOS/Linux

# CÃ i Ä‘áº·t dependencies
pip install -r requirements.txt

# Táº¡o file .env
copy env.example .env
# Chá»‰nh sá»­a .env vá»›i thÃ´ng tin cá»§a báº¡n

# Khá»Ÿi Ä‘á»™ng Docker containers (PostgreSQL + MongoDB + Orion-LD)
docker-compose up -d

# Äá»£i 10-15 giÃ¢y cho containers khá»Ÿi Ä‘á»™ng
timeout /t 15  # Windows
# sleep 15  # macOS/Linux

# Khá»Ÿi táº¡o database vÃ  dá»¯ liá»‡u máº«u
python setup_project.py

# Cháº¡y backend
python main.py
# Server cháº¡y táº¡i: http://localhost:8000
# API docs: http://localhost:8000/docs
# Orion-LD: http://localhost:1026
```

**Ports sá»­ dá»¥ng:**
- `8000`: FastAPI Backend
- `5432`: PostgreSQL
- `27017`: MongoDB
- `1026`: Orion-LD Context Broker

#### 3ï¸âƒ£ Frontend Setup (React + Vite)
```bash
cd GreenMap-Frontend

# CÃ i Ä‘áº·t dependencies
npm install

# Cháº¡y dev server
npm run dev
# á»¨ng dá»¥ng cháº¡y táº¡i: http://localhost:5173
```

**TÃ i khoáº£n admin máº·c Ä‘á»‹nh:**
- Email: `admin@greenmap.hanoi`
- Password: `123456`

#### 4ï¸âƒ£ Data Processing (Python Notebooks)
```bash
cd GreenMap-Data

# Táº¡o virtual environment
python -m venv .venv
.\.venv\Scripts\activate

# CÃ i Ä‘áº·t dependencies
pip install jupyter geopandas pandas shapely

# Khá»Ÿi Ä‘á»™ng Jupyter
jupyter notebook
# Má»Ÿ file: data_collection.ipynb
```

#### 5ï¸âƒ£ Mobile App Setup (Android)
```bash
cd GreenMap-Mobile-App

# Táº¡o local.properties
echo "sdk.dir=C:\\Users\\YourName\\AppData\\Local\\Android\\sdk" > local.properties
echo "MAPTILER_API_KEY=your_maptiler_key_here" >> local.properties
echo "API_BASE_URL=http://10.0.2.2:8000/" >> local.properties

# Build vá»›i Android Studio hoáº·c CLI
./gradlew assembleDebug
./gradlew installDebug
```

---

## ğŸ¤ ÄÃ³ng GÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p tá»« cá»™ng Ä‘á»“ng!

### ğŸ“ CÃ¡ch ÄÃ³ng GÃ³p
1. **Fork** repository báº¡n muá»‘n Ä‘Ã³ng gÃ³p
2. Táº¡o **feature branch**: `git checkout -b feature/TinhNangMoi`
3. **Commit** thay Ä‘á»•i: `git commit -m 'feat: ThÃªm tÃ­nh nÄƒng XYZ'`
4. **Push** lÃªn branch: `git push origin feature/TinhNangMoi`
5. Táº¡o **Pull Request**

### ğŸ’¬ Quy Táº¯c Commit
Sá»­ dá»¥ng [Conventional Commits](https://www.conventionalcommits.org/):
- `feat:` - TÃ­nh nÄƒng má»›i
- `fix:` - Sá»­a lá»—i
- `docs:` - Thay Ä‘á»•i documentation
- `style:` - Formatting, missing semi colons, etc
- `refactor:` - Code refactoring
- `test:` - ThÃªm tests
- `chore:` - Maintain

---

## ğŸ“„ Giáº¥y PhÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c cáº¥p phÃ©p theo **Apache License 2.0** - xem file [LICENSE](https://github.com/HouHackathon-CQP/GreenMap-Backend/blob/main/LICENSE) Ä‘á»ƒ biáº¿t chi tiáº¿t.

```
Copyright 2025 HouHackathon-CQP

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
```

---

## ğŸ”— LiÃªn Káº¿t Quan Trá»ng

- **ğŸ› Issues**: [GitHub Issues](https://github.com/HouHackathon-CQP/GreenMap-Backend/issues)
- **ğŸ’¬ Discussions**: [GitHub Discussions](https://github.com/HouHackathon-CQP/GreenMap-Backend/discussions)
- **ğŸ“– API Docs**: `http://localhost:8000/docs` (khi cháº¡y backend)

### ğŸ“¦ Repositories
- [GreenMap-Backend](https://github.com/HouHackathon-CQP/GreenMap-Backend)
- [GreenMap-Frontend](https://github.com/HouHackathon-CQP/GreenMap-Frontend)
- [GreenMap-Data](https://github.com/HouHackathon-CQP/GreenMap-Data)
- [GreenMap-Mobile-App](https://github.com/HouHackathon-CQP/GreenMap-Mobile-App)

---

## ğŸ“§ LiÃªn Há»‡

**NhÃ³m PhÃ¡t Triá»ƒn:** HouHackathon-CQP

**Äá»‹a chá»‰:**
- 96 Äá»‹nh CÃ´ng, HÃ  Ná»™i, Viá»‡t Nam
- NhÃ  B101, phá»‘ Nguyá»…n Hiá»n, phÆ°á»ng Báº¡ch Mai, TP HÃ  Ná»™i
- TrÆ°á»ng Äáº¡i há»c Má»Ÿ HÃ  Ná»™i - Khoa CÃ´ng nghá»‡ thÃ´ng tin (FITHOU)

**Email:** thocodeanhquan@gmail.com

**GitHub Organization:** [@HouHackathon-CQP](https://github.com/HouHackathon-CQP)

---

## ğŸ™ Ghi Nháº­n

Dá»± Ã¡n nÃ y sá»­ dá»¥ng dá»¯ liá»‡u vÃ  cÃ´ng nghá»‡ tá»«:

- **OpenStreetMap** contributors - Dá»¯ liá»‡u báº£n Ä‘á»“ má»Ÿ
- **FIWARE Foundation** - Orion-LD Context Broker
- **OpenAQ** - Dá»¯ liá»‡u cháº¥t lÆ°á»£ng khÃ´ng khÃ­
- **Smart Data Models** - NGSI-LD context vÃ  schemas
- **MapLibre** - Open-source mapping library
- **SUMO** (Simulation of Urban MObility) - Traffic simulation
- **BÃ¡o HÃ  Ná»™i Má»›i** - RSS news feed
- **Google Gemini** - AI analysis vÃ  insights
- **Groq** - AI analysis vÃ  insights (fallback)



---

## ğŸ‘¥ Äá»™i ngÅ© phÃ¡t triá»ƒn

ChÃºng tÃ´i lÃ  nhá»¯ng sinh viÃªn cÃ´ng nghá»‡, code báº±ng Ä‘am mÃª vÃ  mang trong mÃ¬nh tÃ¬nh yÃªu lá»›n vá»›i HÃ  Ná»™i.

<table>
  <tr>
    <td align="center">
      <a href="https://github.com/kedokato-dev">
        <img src="https://avatars.githubusercontent.com/u/125746822?v=4" width="120px;" style="border-radius: 50%"/><br>
        <sub><b>Tráº§n Anh QuÃ¢n</b></sub>
      </a><br>
      <small><i>Team Lead</i></small>
    </td>
    <td align="center">
      <a href="https://github.com/blueMonkey23">
        <img src="https://avatars.githubusercontent.com/u/168514215?v=4" width="120px;" style="border-radius: 50%"/><br>
        <sub><b>Tráº§n Trá»ng Chiáº¿n</b></sub>
      </a><br>
      <small><i>Backend Specialist & System Architect</i></small>
    </td>
    <td align="center">
      <a href="https://github.com/ourstorycomic">
        <img src="https://avatars.githubusercontent.com/u/100331812?v=4" width="120px;" style="border-radius: 50%"/><br>
        <sub><b>Nguyá»…n HÃ  PhÆ°Æ¡ng</b></sub>
      </a><br>
      <small><i>Frontend Developer & Data Viz</i></small>
    </td>
  </tr>
</table>

---

## ğŸ’Œ Lá»i má»i há»£p tÃ¡c

GreenMap lÃ  má»™t dá»± Ã¡n **MÃ£ nguá»“n má»Ÿ (Open Source)** vÃ  hÆ°á»›ng tá»›i **Dá»¯ liá»‡u má»Ÿ (Open Data)**. ChÃºng tÃ´i khÃ´ng thá»ƒ lÃ m Ä‘iá»u nÃ y má»™t mÃ¬nh.

Náº¿u báº¡n lÃ :
* **Mobile Dev:** HÃ£y giÃºp chÃºng tÃ´i tá»‘i Æ°u hiá»‡u nÄƒng App Kotlin, lÃ m cho nÃ³ mÆ°á»£t mÃ  hÆ¡n trÃªn cÃ¡c dÃ²ng mÃ¡y phá»• thÃ´ng.
* **Data Scientist:** Model AI cá»§a chÃºng tÃ´i cáº§n thÃ´ng minh hÆ¡n. Náº¿u báº¡n cÃ³ Ã½ tÆ°á»Ÿng vá» thuáº­t toÃ¡n dá»± bÃ¡o má»›i, hÃ£y Pull Request!
* **CÆ¡ quan/Tá»• chá»©c:** Náº¿u báº¡n cÃ³ dá»¯ liá»‡u quan tráº¯c (Sá»Ÿ TNMT, WHO, AirVisual...), hÃ£y chia sáº» API Ä‘á»ƒ chÃºng tÃ´i tÃ­ch há»£p.

Äá»«ng ngáº§n ngáº¡i má»Ÿ má»™t **Issue** Ä‘á»ƒ gÃ³p Ã½ hoáº·c gá»­i **Pull Request**. Má»—i dÃ²ng code cá»§a báº¡n Ä‘á»u gÃ³p pháº§n lÃ m khÃ´ng khÃ­ HÃ  Ná»™i trong lÃ nh hÆ¡n.

*Vui lÃ²ng Ä‘á»c ká»¹ file `CONTRIBUTING.md` trong tá»«ng repository con Ä‘á»ƒ báº¯t Ä‘áº§u nhÃ©!*

---

<div align="center">

### Code for Hanoi. Code for Life. ğŸŒ¿

*Â© 2025 GreenMap Hanoi Project. Made with â¤ï¸ and lots of â˜• in Hanoi.*

**GreenMap** - Há»‡ Sinh ThÃ¡i Báº£n Äá»“ Xanh ThÃ´ng Minh  
PhÃ¡t triá»ƒn bá»Ÿi **NhÃ³m HouHackathon-CQP**  
TrÆ°á»ng Äáº¡i há»c Má»Ÿ HÃ  Ná»™i (HOU)

ğŸŒ± *VÃ¬ má»™t HÃ  Ná»™i xanh hÆ¡n, sáº¡ch hÆ¡n, thÃ´ng minh hÆ¡n* ğŸŒ±

</div>
